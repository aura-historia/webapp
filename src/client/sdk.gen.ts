// This file is auto-generated by @hey-api/openapi-ts

import type { Client, Options as Options2, TDataShape } from './client';
import { client } from './client.gen';
import type { AddWatchlistProductData, AddWatchlistProductErrors, AddWatchlistProductResponses, ComplexSearchProductsData, ComplexSearchProductsErrors, ComplexSearchProductsResponses, CreateShopData, CreateShopErrors, CreateShopResponses, CreateUserSearchFilterData, CreateUserSearchFilterErrors, CreateUserSearchFilterResponses, DeleteUserSearchFilterData, DeleteUserSearchFilterErrors, DeleteUserSearchFilterResponses, DeleteWatchlistProductData, DeleteWatchlistProductErrors, DeleteWatchlistProductResponses, GetProductData2, GetProductErrors, GetProductResponses, GetShopData2, GetShopErrors, GetShopResponses, GetSimilarProductsData, GetSimilarProductsErrors, GetSimilarProductsResponses, GetUserAccountData2, GetUserAccountErrors, GetUserAccountResponses, GetUserSearchFilterData, GetUserSearchFilterErrors, GetUserSearchFilterResponses, GetUserSearchFiltersData, GetUserSearchFiltersErrors, GetUserSearchFiltersResponses, GetWatchlistProductsData, GetWatchlistProductsErrors, GetWatchlistProductsResponses, PatchWatchlistProductData, PatchWatchlistProductErrors, PatchWatchlistProductResponses, PutProductsData, PutProductsErrors, PutProductsResponses, SearchShopsData, SearchShopsErrors, SearchShopsResponses, UpdateShopData, UpdateShopErrors, UpdateShopResponses, UpdateUserAccountData, UpdateUserAccountErrors, UpdateUserAccountResponses, UpdateUserSearchFilterData, UpdateUserSearchFilterErrors, UpdateUserSearchFilterResponses } from './types.gen';

export type Options<TData extends TDataShape = TDataShape, ThrowOnError extends boolean = boolean> = Options2<TData, ThrowOnError> & {
    /**
     * You can provide a client instance returned by `createClient()` instead of
     * individual options. This might be also useful if you want to implement a
     * custom client.
     */
    client?: Client;
    /**
     * You can pass arbitrary values through the `meta` object. This can be
     * used to access values that aren't defined as part of the SDK function.
     */
    meta?: Record<string, unknown>;
};

/**
 * Get a single product
 *
 * Retrieves a single product by its shop ID and shop's product ID.
 * Returns localized content based on Accept-Language header and currency preferences.
 * Optionally includes product history when requested.
 *
 * **Personalization**: When authenticated (via optional Authorization header), the response includes
 * user-specific state such as whether the product is on the user's watchlist and notification preferences.
 * Anonymous requests receive product data without user state.
 *
 */
export const getProduct = <ThrowOnError extends boolean = false>(options: Options<GetProductData2, ThrowOnError>) => (options.client ?? client).get<GetProductResponses, GetProductErrors, ThrowOnError>({
    security: [{ scheme: 'bearer', type: 'http' }],
    url: '/api/v1/products/{shopId}/{shopsProductId}',
    ...options
});

/**
 * Get similar products
 *
 * Retrieves products similar to the specified product using semantic search based on text embeddings.
 * Returns localized content based on Accept-Language header and currency preferences.
 *
 * **Personalization**: When authenticated (via optional Authorization header), the response includes
 * user-specific state for each similar product (watchlist status, notifications).
 * Anonymous requests receive product data without user state.
 *
 * **Asynchronous Processing**: If the product's text embedding has not yet been computed (typically for
 * products created less than 24 hours ago), the endpoint returns 202 Accepted with a Location header
 * to poll. The embedding generation runs nightly via batch processing.
 *
 */
export const getSimilarProducts = <ThrowOnError extends boolean = false>(options: Options<GetSimilarProductsData, ThrowOnError>) => (options.client ?? client).get<GetSimilarProductsResponses, GetSimilarProductsErrors, ThrowOnError>({
    security: [{ scheme: 'bearer', type: 'http' }],
    url: '/api/v1/products/{shopId}/{shopsProductId}/similar',
    ...options
});

/**
 * Bulk create or update products
 *
 * Creates or updates multiple products in a single batch request.
 * This endpoint accepts a collection of product data and processes them asynchronously.
 *
 * **Shop Enrichment**: The shop information (shopId and shopName) is automatically
 * enriched based on the product's URL. The domain is extracted from the product URL
 * and must match a shop that is already registered in the system. If the shop is not
 * found, the product will fail with a SHOP_NOT_FOUND error. If the URL does not contain
 * a valid extractable domain, the product will fail with a NO_DOMAIN error.
 *
 * **Response Structure**:
 * - `skipped`: Number of products that had no changes and were skipped
 * - `unprocessed`: URLs of products that could not be processed due to temporary issues (can be retried)
 * - `failed`: Map of product URLs to error codes for products that permanently failed processing
 *
 * Returns information about any products that could not be processed or failed during enrichment.
 *
 */
export const putProducts = <ThrowOnError extends boolean = false>(options: Options<PutProductsData, ThrowOnError>) => (options.client ?? client).put<PutProductsResponses, PutProductsErrors, ThrowOnError>({
    url: '/api/v1/products',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * Complex product search
 *
 * Performs an advanced search for products using a comprehensive search filter.
 * This endpoint accepts a ProductSearchData object in the request body,
 * allowing for complex filtering by multiple criteria simultaneously.
 * Returns a paginated collection of products matching the search criteria.
 *
 * **Personalization**: When authenticated (via optional Authorization header), the response includes
 * user-specific state for each product such as whether it's on the user's watchlist and notification preferences.
 * Anonymous requests receive product data without user state.
 *
 */
export const complexSearchProducts = <ThrowOnError extends boolean = false>(options: Options<ComplexSearchProductsData, ThrowOnError>) => (options.client ?? client).post<ComplexSearchProductsResponses, ComplexSearchProductsErrors, ThrowOnError>({
    security: [{ scheme: 'bearer', type: 'http' }],
    url: '/api/v1/products/search',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * List user search filters
 *
 * Retrieves all search filters for the authenticated user.
 * Results can be optionally sorted by creation date.
 * Requires valid Cognito JWT authentication.
 *
 */
export const getUserSearchFilters = <ThrowOnError extends boolean = false>(options?: Options<GetUserSearchFiltersData, ThrowOnError>) => (options?.client ?? client).get<GetUserSearchFiltersResponses, GetUserSearchFiltersErrors, ThrowOnError>({
    security: [{ scheme: 'bearer', type: 'http' }],
    url: '/api/v1/me/search-filters',
    ...options
});

/**
 * Create a new search filter
 *
 * Creates a new search filter for the authenticated user.
 * The search filter configuration is provided in the request body.
 * Returns the created search filter with generated ID and metadata.
 * Requires valid Cognito JWT authentication.
 *
 */
export const createUserSearchFilter = <ThrowOnError extends boolean = false>(options: Options<CreateUserSearchFilterData, ThrowOnError>) => (options.client ?? client).post<CreateUserSearchFilterResponses, CreateUserSearchFilterErrors, ThrowOnError>({
    security: [{ scheme: 'bearer', type: 'http' }],
    url: '/api/v1/me/search-filters',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * Delete a search filter
 *
 * Deletes a specific search filter by its ID for the authenticated user.
 * The search filter must exist and belong to the authenticated user.
 * Requires valid Cognito JWT authentication.
 *
 */
export const deleteUserSearchFilter = <ThrowOnError extends boolean = false>(options: Options<DeleteUserSearchFilterData, ThrowOnError>) => (options.client ?? client).delete<DeleteUserSearchFilterResponses, DeleteUserSearchFilterErrors, ThrowOnError>({
    security: [{ scheme: 'bearer', type: 'http' }],
    url: '/api/v1/me/search-filters/{userSearchFilterId}',
    ...options
});

/**
 * Get a specific search filter
 *
 * Retrieves a specific search filter by its ID for the authenticated user.
 * Returns the complete search filter configuration and metadata.
 * Requires valid Cognito JWT authentication.
 *
 */
export const getUserSearchFilter = <ThrowOnError extends boolean = false>(options: Options<GetUserSearchFilterData, ThrowOnError>) => (options.client ?? client).get<GetUserSearchFilterResponses, GetUserSearchFilterErrors, ThrowOnError>({
    security: [{ scheme: 'bearer', type: 'http' }],
    url: '/api/v1/me/search-filters/{userSearchFilterId}',
    ...options
});

/**
 * Update a search filter
 *
 * Updates a specific search filter by its ID for the authenticated user.
 * Allows partial updates - only provided fields will be modified.
 * If no fields are provided in the request body, returns the existing search filter unchanged.
 * Requires valid Cognito JWT authentication.
 *
 */
export const updateUserSearchFilter = <ThrowOnError extends boolean = false>(options: Options<UpdateUserSearchFilterData, ThrowOnError>) => (options.client ?? client).patch<UpdateUserSearchFilterResponses, UpdateUserSearchFilterErrors, ThrowOnError>({
    security: [{ scheme: 'bearer', type: 'http' }],
    url: '/api/v1/me/search-filters/{userSearchFilterId}',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * List user's watchlist products
 *
 * Retrieves all products in the authenticated user's watchlist.
 * Results are paginated using search-after cursor-based pagination with timestamp.
 * Requires valid Cognito JWT authentication.
 *
 */
export const getWatchlistProducts = <ThrowOnError extends boolean = false>(options?: Options<GetWatchlistProductsData, ThrowOnError>) => (options?.client ?? client).get<GetWatchlistProductsResponses, GetWatchlistProductsErrors, ThrowOnError>({
    security: [{ scheme: 'bearer', type: 'http' }],
    url: '/api/v1/me/watchlist',
    ...options
});

/**
 * Add product to watchlist
 *
 * Adds an product to the authenticated user's watchlist.
 * The request body must contain the shop ID and shop's product ID.
 * Returns a 201 Created response with a Location header pointing to the created resource.
 * Requires valid Cognito JWT authentication.
 *
 */
export const addWatchlistProduct = <ThrowOnError extends boolean = false>(options: Options<AddWatchlistProductData, ThrowOnError>) => (options.client ?? client).post<AddWatchlistProductResponses, AddWatchlistProductErrors, ThrowOnError>({
    security: [{ scheme: 'bearer', type: 'http' }],
    url: '/api/v1/me/watchlist',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * Get user account data
 *
 * Retrieves the authenticated user's account information including email, name, language, and currency preferences.
 * Requires valid Cognito JWT authentication.
 *
 */
export const getUserAccount = <ThrowOnError extends boolean = false>(options?: Options<GetUserAccountData2, ThrowOnError>) => (options?.client ?? client).get<GetUserAccountResponses, GetUserAccountErrors, ThrowOnError>({
    security: [{ scheme: 'bearer', type: 'http' }],
    url: '/api/v1/me/account',
    ...options
});

/**
 * Update user account data
 *
 * Updates the authenticated user's account information.
 * All fields in the request body are optional - only provided fields will be updated.
 * Returns the updated user account data.
 * Requires valid Cognito JWT authentication.
 *
 */
export const updateUserAccount = <ThrowOnError extends boolean = false>(options: Options<UpdateUserAccountData, ThrowOnError>) => (options.client ?? client).patch<UpdateUserAccountResponses, UpdateUserAccountErrors, ThrowOnError>({
    security: [{ scheme: 'bearer', type: 'http' }],
    url: '/api/v1/me/account',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * Remove product from watchlist
 *
 * Removes a specific product from the authenticated user's watchlist.
 * Returns a 204 No Content response on success.
 * Requires valid Cognito JWT authentication.
 *
 */
export const deleteWatchlistProduct = <ThrowOnError extends boolean = false>(options: Options<DeleteWatchlistProductData, ThrowOnError>) => (options.client ?? client).delete<DeleteWatchlistProductResponses, DeleteWatchlistProductErrors, ThrowOnError>({
    security: [{ scheme: 'bearer', type: 'http' }],
    url: '/api/v1/me/watchlist/{shopId}/{shopsProductId}',
    ...options
});

/**
 * Update watchlist product settings
 *
 * Updates settings for a specific watchlist product (e.g., toggle notifications).
 * Returns the updated watchlist product data with core identifiers and settings.
 * Requires valid Cognito JWT authentication.
 *
 */
export const patchWatchlistProduct = <ThrowOnError extends boolean = false>(options: Options<PatchWatchlistProductData, ThrowOnError>) => (options.client ?? client).patch<PatchWatchlistProductResponses, PatchWatchlistProductErrors, ThrowOnError>({
    security: [{ scheme: 'bearer', type: 'http' }],
    url: '/api/v1/me/watchlist/{shopId}/{shopsProductId}',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * Create a new shop
 *
 * Creates a new shop in the system with the provided details.
 * The shop must include at least one domain and can have up to 100 domains.
 * Returns the created shop with generated ID and timestamps.
 *
 */
export const createShop = <ThrowOnError extends boolean = false>(options: Options<CreateShopData, ThrowOnError>) => (options.client ?? client).post<CreateShopResponses, CreateShopErrors, ThrowOnError>({
    url: '/api/v1/shops',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * Get shop details
 *
 * Retrieves detailed information about a specific shop by its identifier.
 * The identifier can be either a shop ID (UUID) or a domain associated with the shop.
 * Returns complete shop metadata including name, domains, image, and timestamps.
 *
 */
export const getShop = <ThrowOnError extends boolean = false>(options: Options<GetShopData2, ThrowOnError>) => (options.client ?? client).get<GetShopResponses, GetShopErrors, ThrowOnError>({ url: '/api/v1/shops/{shopIdentifier}', ...options });

/**
 * Update shop details
 *
 * Updates an existing shop's information by its identifier.
 * The identifier can be either a shop ID (UUID) or a domain associated with the shop.
 * All fields in the request body are optional - only provided fields will be updated.
 * If the request body is empty or only contains null values, the shop is returned unchanged.
 * When updating domains, the complete new set of domains must be provided.
 *
 */
export const updateShop = <ThrowOnError extends boolean = false>(options: Options<UpdateShopData, ThrowOnError>) => (options.client ?? client).patch<UpdateShopResponses, UpdateShopErrors, ThrowOnError>({
    url: '/api/v1/shops/{shopIdentifier}',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * Search shops
 *
 * Performs an advanced search for shops using comprehensive filtering criteria.
 * This endpoint accepts a ShopSearchData object in the request body,
 * allowing for complex filtering by shop name and date ranges.
 * Returns a paginated collection of shops matching the search criteria.
 *
 */
export const searchShops = <ThrowOnError extends boolean = false>(options: Options<SearchShopsData, ThrowOnError>) => (options.client ?? client).post<SearchShopsResponses, SearchShopsErrors, ThrowOnError>({
    url: '/api/v1/shops/search',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});
